
Процедура ОбновлениеИндекса() Экспорт
	Если ПолнотекстовыйПоиск.ПолучитьРежимПолнотекстовогоПоиска() = РежимПолнотекстовогоПоиска.Разрешить Тогда
		Если Не ПолнотекстовыйПоиск.ИндексАктуален() Тогда
			ПолнотекстовыйПоиск.ОбновитьИндекс( , Истина);
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры

Процедура СлияниеИндексов() Экспорт
	Если ПолнотекстовыйПоиск.ПолучитьРежимПолнотекстовогоПоиска() = РежимПолнотекстовогоПоиска.Разрешить Тогда
		Если Не ПолнотекстовыйПоиск.ИндексАктуален() Тогда
			ПолнотекстовыйПоиск.ОбновитьИндекс(Истина);
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры         

Процедура Регламент1() Экспорт     
	
	Сообщение = Новый СообщениеПользователю();
	Сообщение.Текст = "Выполняется регламентное задание";
	Сообщение.Сообщить();
	
	
КонецПроцедуры   

Процедура ДобавитьЗаписьЛучшегоТовараПоРегламентномуЗаданию() Экспорт
    // Текущая дата
    ТекДата = ТекущаяДата();

    // Ищем товар по наименованию "йогурт"  
	
	ВыборкаТоваров = Справочники.Товары.НайтиПоНаименованию("йогурт");
    
    Если ВыборкаТоваров.Количество() > 0 Тогда
        
        // Берём первый найденный товар (если товаров с таким именем несколько)
        ТоварСсылка = ВыборкаТоваров.Первый().Ссылка;
	
    // Создаём набор записей регистра сведений
    НаборЗаписей = РегистрыСведений.ЛучшийТоварПоРегламентномуЗаданию.СоздатьНаборЗаписей();

    НоваяСтрока = НаборЗаписей.Добавить();
    // Поле периода в регистрах сведений обычно называется "Период". Если у вас другое имя — замените.
    НоваяСтрока.Период = ТекДата;
    НоваяСтрока.Товар = ТоварСсылка;
    НоваяСтрока.СуммаПродаж = 100; // 100 рублей

    // Записываем набор
    Попытка
        НаборЗаписей.Записать();
        Сообщить("Запись успешно добавлена в регистр лучшего товара.");
    Исключение
        Сообщить("Ошибка при записи в регистр сведений: " + ОписаниеОшибки());
	КонецПопытки;   
	        Сообщить("Товар 'йогурт' не найден.");
	КонецЕсли

КонецПроцедуры
